{% extends "base.html" %}

{% block content %}
<h1>ğŸ“œ å…¥å‡ºåº«è¨˜éŒ²</h1>

<form method="GET" style="margin-bottom: 20px;">
    <input type="text" name="search" placeholder="å“ç•ªãƒ»å“åãƒ»ãƒ­ãƒƒãƒˆNoã§æ¤œç´¢" value="{{ search }}">
    <button type="submit">æ¤œç´¢</button>
    <a href="{{ url_for('logs_page') }}"><button type="button">ãƒªã‚»ãƒƒãƒˆ</button></a>
</form>

<table>
    <tr>
        <th>æ—¥æ™‚</th>
        <th>æ“ä½œ</th>
        <th>å“ç•ª</th>
        <th>å“å</th>
        <th>ãƒ­ãƒƒãƒˆNo.</th>
        <th>æ•°é‡</th>
    </tr>
    {% for log in logs %}
    {% set color = 'black' %}
    {% if log.action == 'å…¥åº«' %}
    {% set color = 'blue' %}
    {% elif log.action == 'å‡ºåº«' %}
    {% set color = 'red' %}
    {% elif log.action == 'æ–°è¦ç™»éŒ²' %}
    {% set color = 'green' %}
    {% endif %}
    <tr>
        <td>{{ log.timestamp.strftime('%Y-%m-%d %H:%M:%S') }}</td>
        <td style="color: {{ color }}; font-weight: bold;">{{ log.action }}</td>
        <td>{{ log.item_code }}</td>
        <td>{{ log.item_name }}</td>
        <td>{{ log.lot_number }}</td>
        <td>{{ log.quantity }}</td>
    </tr>
    {% endfor %}
</table>
{% endblock %}